(window["webpackJsonpreact-first"]=window["webpackJsonpreact-first"]||[]).push([[3],{298:function(e,a,t){e.exports={wide_column_wrap:"WideProfileColumn_wide_column_wrap__2P07F",page__block:"WideProfileColumn_page__block__1rTB1",profile__data:"WideProfileColumn_profile__data__3z81U",profile__data_top:"WideProfileColumn_profile__data_top__1D0kj",profile__data_top_left:"WideProfileColumn_profile__data_top_left__2veX1",profile__data_top_right:"WideProfileColumn_profile__data_top_right__uiR7I",profile__data_middle:"WideProfileColumn_profile__data_middle__1-_zG",profile_info_full:"WideProfileColumn_profile_info_full__OX3xH",profile_info:"WideProfileColumn_profile_info__1whPw",profile_info_short:"WideProfileColumn_profile_info_short__3HtlV",profile_info_block:"WideProfileColumn_profile_info_block__XwEAq",profile_info_header_edit:"WideProfileColumn_profile_info_header_edit__1fkMx",profile_info_header_wrap:"WideProfileColumn_profile_info_header_wrap__jMk_8",profile__info_row:"WideProfileColumn_profile__info_row__1GP66",profile__info_label:"WideProfileColumn_profile__info_label__209z6",profile__info_labeled:"WideProfileColumn_profile__info_labeled__2MQwk",username:"WideProfileColumn_username__3VZZ7",status:"WideProfileColumn_status__JMmpX",status_inp:"WideProfileColumn_status_inp__3zUjv",name:"WideProfileColumn_name__1lLlU",profile_more_info_link:"WideProfileColumn_profile_more_info_link__3MR4h",profile_info_header:"WideProfileColumn_profile_info_header__3zepA",profile_label_less:"WideProfileColumn_profile_label_less__KHgVr",shown:"WideProfileColumn_shown__3Nbhi",profile_label_more:"WideProfileColumn_profile_label_more__3Blrf",profile__data_avatar:"WideProfileColumn_profile__data_avatar__4j72M",start_dialog:"WideProfileColumn_start_dialog__17AfL"}},304:function(e,a,t){e.exports={profile:"Profile_profile__31Aqv"}},305:function(e,a,t){e.exports={posts_wrap:"Posts_posts_wrap__gAAEQ",posts:"Posts_posts__3jH46",add_post:"Posts_add_post__2EsFK",button_wrap:"Posts_button_wrap__3NTLc"}},306:function(e,a,t){e.exports={post:"Post_post__38lgD",post__topline:"Post_post__topline__1_sUn",post__avatar:"Post_post__avatar__1C1fq",post__author:"Post_post__author__Mp-7L",post__bottom:"Post_post__bottom__124uG",post__likes:"Post_post__likes__3xaa6",post__likecount:"Post_post__likecount__cnMBP",post__content:"Post_post__content__1R9w5"}},307:function(e,a,t){e.exports=t.p+"static/media/edit_icon.1b08a3b5.svg"},308:function(e,a,t){e.exports=t.p+"static/media/check_icon.f9341fab.svg"},309:function(e,a,t){e.exports={narrow_column_wrap:"NarrowProfileColumn_narrow_column_wrap__oAxMI",page__block:"NarrowProfileColumn_page__block__3zSFL",start_dialog:"NarrowProfileColumn_start_dialog__3WO8V",avatar_inp_wrap:"NarrowProfileColumn_avatar_inp_wrap__4lGvW",avatar:"NarrowProfileColumn_avatar__3QBql",avatar__wrap:"NarrowProfileColumn_avatar__wrap__3ksEg",uploadPhoto:"NarrowProfileColumn_uploadPhoto__NkwJT",hidden:"NarrowProfileColumn_hidden__D4efF"}},310:function(e,a,t){e.exports=t.p+"static/media/photo-camera.70f5c9e0.svg"},311:function(e,a,t){"use strict";t.r(a);var l=t(28),o=t(29),r=t(31),i=t(30),_=t(32),s=t(0),n=t.n(s),c=t(304),f=t.n(c),m=t(102),p=t(298),d=t.n(p),u=t(59),v=t(305),E=t.n(v),N=t(19),b=t.n(N),h=t(306),w=t.n(h),P=t(58),g=t.n(P),k=t(11),C=function(e){return n.a.createElement("div",{className:w.a.post},n.a.createElement("div",{className:w.a.post__topline},n.a.createElement("div",{className:w.a.post__avatar},n.a.createElement("img",{src:e.profile.photos.small?e.profile.photos.small:g.a})),n.a.createElement(k.b,{to:"profile/?userid="+e.profile.userId,className:w.a.post__author},e.profile.fullName)),n.a.createElement("div",{className:w.a.post__content},n.a.createElement("div",{className:w.a.post__text},e.message)),n.a.createElement("div",{className:w.a.post__bottom},n.a.createElement("div",{className:w.a.post__likes},n.a.createElement("a",{href:"#",onClick:function(e){e.preventDefault()}},n.a.createElement("span",null,"like")),n.a.createElement("div",{className:w.a.post__likecount},e.likes))))},O=t(96),j=t(133),W=t(69),x=t(36),S=n.a.memo(function(e){var a=e.posts.map(function(a){return n.a.createElement(C,{likes:a.likesCount,profile:e.profile,key:a.id,message:a.message})});return n.a.createElement("div",{className:E.a.posts_wrap},n.a.createElement(A,{onSubmit:function(a){e.addPost(a.postText)}}),n.a.createElement("div",{className:E.a.posts},a))}),y=Object(W.a)(150),A=Object(j.a)({form:"addPostForm"})(function(e){return n.a.createElement("form",{onSubmit:e.handleSubmit,className:E.a.add_post},n.a.createElement(O.a,{component:x.b,validate:[y],name:"postText",placeholder:"Type some text...",className:b.a.form__input_textarea}),n.a.createElement("div",{className:E.a.button_wrap},n.a.createElement("button",null,"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c")))}),U=S,I=t(12),D=Object(I.b)(function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText,profile:e.profilePage.profile}},function(e){return{addPost:function(a){e(Object(u.a)(a))}}})(U),M=t(33),F=t(307),T=t.n(F),z=function(e){var a=e.contactTitle,t=e.contactValue;return n.a.createElement("div",null,t&&n.a.createElement("div",{className:d.a.profile__info_row},n.a.createElement("div",{className:d.a.profile__info_label},a,":"),n.a.createElement("div",{className:d.a.profile__info_labeled},n.a.createElement("a",{href:t},t))))},J=function(e){var a=e.showState,t=e.isOwner,l=e.profile,o=e.toEditMode;return n.a.createElement("div",{className:d.a.profile_info_full,style:{display:+a?"block":"none"}},n.a.createElement("div",{className:d.a.profile_info_block},n.a.createElement("div",{className:d.a.profile_info_header_wrap},n.a.createElement("span",{className:d.a.profile_info_header},"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"),t&&n.a.createElement("div",{className:d.a.profile_info_header_edit},n.a.createElement("button",{onClick:o,className:"hide_mob"},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),n.a.createElement("button",{onClick:o,className:"show_mob"},n.a.createElement("img",{src:T.a,alt:"edit"})))),n.a.createElement("div",{className:d.a.profile__info},Object.keys(l.contacts).map(function(e){return n.a.createElement(z,{key:e,contactTitle:e,contactValue:l.contacts[e]})}))),n.a.createElement("div",{className:d.a.profile_info_block},n.a.createElement("div",{className:d.a.profile_info_header_wrap},n.a.createElement("span",{className:d.a.profile_info_header},"\u041a\u0430\u0440\u044c\u0435\u0440\u0430")),n.a.createElement("div",{className:d.a.profile__info},n.a.createElement("div",{className:d.a.profile__info_row},n.a.createElement("div",{className:d.a.profile__info_label},"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443:"),n.a.createElement("div",{className:d.a.profile__info_labeled},l.lookingForAJob?"\u0414\u0430":"\u041d\u0435\u0442")),l.lookingForAJobDescription&&n.a.createElement("div",{className:d.a.profile__info_row},n.a.createElement("div",{className:d.a.profile__info_label},"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"),n.a.createElement("div",{className:d.a.profile__info_labeled},l.lookingForAJobDescription)),n.a.createElement("div",{className:d.a.profile__info_row},n.a.createElement("div",{className:d.a.profile__info_label},"\u041e\u0431\u043e \u043c\u043d\u0435:"),n.a.createElement("div",{className:d.a.profile__info_labeled},l.aboutMe)))))},V=t(308),B=t.n(V),L=Object(j.a)({form:"edit-profile-data"})(function(e){var a=e.handleSubmit,t=e.profile,l=e.error;return n.a.createElement("form",{onSubmit:a,className:d.a.profile_info_full},n.a.createElement("div",{className:d.a.profile_info_block},n.a.createElement("div",{className:d.a.profile_info_header_wrap},n.a.createElement("span",{className:d.a.profile_info_header}," \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"),n.a.createElement("div",{className:d.a.profile_info_header_edit},n.a.createElement("button",{className:"hide_mob"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),n.a.createElement("button",{className:"show_mob"},n.a.createElement("img",{src:B.a,alt:"edit"})))),n.a.createElement("div",{className:d.a.profile__info},Object.keys(t.contacts).map(function(e){return n.a.createElement("div",{className:d.a.profile__info_row,key:e},n.a.createElement("div",{className:d.a.profile__info_label},e,":"),n.a.createElement("div",{className:d.a.profile__info_labeled},Object(x.c)(e,"contacts."+e,[],x.a,{className:b.a.form__input_profile})))}))),n.a.createElement("div",{className:d.a.profile_info_block},n.a.createElement("div",{className:d.a.profile_info_header_wrap},n.a.createElement("span",{className:d.a.profile_info_header},"\u041f\u043e\u0438\u0441\u043a \u0440\u0430\u0431\u043e\u0442\u044b")),n.a.createElement("div",{className:d.a.profile__info},n.a.createElement("div",{className:d.a.profile__info_row},n.a.createElement("div",{className:d.a.profile__info_label},"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443:"),n.a.createElement("div",{className:d.a.profile__info_labeled},n.a.createElement("div",{className:d.a.profile__info_field},Object(x.c)("\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443","lookingForAJob",null,x.a,{type:"checkbox",className:b.a.form__input_checkbox})))),n.a.createElement("div",{className:d.a.profile__info_row},n.a.createElement("div",{className:d.a.profile__info_label},"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"),n.a.createElement("div",{className:d.a.profile__info_labeled},n.a.createElement("div",{className:d.a.profile__info_field},Object(x.c)("\u041c\u043e\u0438 \u0443\u043c\u0435\u043d\u0438\u044f","lookingForAJobDescription",null,x.b,{className:b.a.form__input_textarea})))),n.a.createElement("div",{className:d.a.profile__info_row},n.a.createElement("div",{className:d.a.profile__info_label},"\u041e\u0431\u043e \u043c\u043d\u0435:"),n.a.createElement("div",{className:d.a.profile__info_labeled},n.a.createElement("div",{className:d.a.profile__info_field},Object(x.c)("\u041e\u0431\u043e \u043c\u043d\u0435","aboutMe",null,x.b,{className:b.a.form__input_textarea})))),n.a.createElement("div",{className:d.a.profile__info_row},n.a.createElement("div",{className:d.a.profile__info_label},"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"),n.a.createElement("div",{className:d.a.profile__info_labeled},n.a.createElement("div",{className:d.a.profile__info_field},Object(x.c)("\u041e\u0431\u043e \u043c\u043d\u0435","aboutMe",null,x.b,{className:b.a.form__input_textarea})))))),l?n.a.createElement("div",{className:d.a.formError}," ",l," "):"")}),q=function(e){var a=Object(s.useState)(!1),t=Object(m.a)(a,2),l=t[0],o=t[1],r=Object(s.useState)(e.status),i=Object(m.a)(r,2),_=i[0],c=i[1];Object(s.useEffect)(function(){c(e.status)},[e.status]);var f=function(){e.isOwner&&o(!0)};return n.a.createElement("div",null,!l&&n.a.createElement("div",null,n.a.createElement("span",{onClick:f,onTouchEnd:f,className:d.a.status},e.status)),l&&e.isOwner?n.a.createElement("div",null,n.a.createElement("input",{autoFocus:!0,className:d.a.status_inp,onChange:function(e){c(e.currentTarget.value)},onBlur:function(){o(!1),e.updateStatus(_)},value:_})):"")},G=function(e){var a=e.saveProfile,t=(e.startDialog,e.history),l=e.store,o=e.profile,r=e.status,i=e.isOwner,_=e.updateStatus,c=e.showState,f=e.toggleUserInfo,p=Object(s.useState)(!1),u=Object(m.a)(p,2),v=u[0],E=u[1];if(!o)return n.a.createElement(M.a,null);return n.a.createElement("div",{className:d.a.wide_column_wrap},n.a.createElement("div",{className:d.a.page__block},n.a.createElement("div",{className:d.a.profile__data},n.a.createElement("div",{className:d.a.profile__data_top},n.a.createElement("div",{className:d.a.profile__data_top_left},n.a.createElement("div",{className:d.a.profile__data_avatar},n.a.createElement("img",{src:o.photos.small,alt:"avatar"}))),n.a.createElement("div",{className:d.a.profile__data_top_right},n.a.createElement("div",{className:d.a.name},o.fullName),n.a.createElement(q,{isOwner:i,status:r,updateStatus:_}))),n.a.createElement("div",{className:d.a.profile__data_middle},!i&&n.a.createElement("div",{className:d.a.start_dialog+" show_mob"},n.a.createElement("a",{className:b.a.form__input_file,onClick:function(){var e;e=o.userId,t.push("/im/"+e)}},"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c")),n.a.createElement("div",{className:d.a.profile_info+" "+d.a.profile_info_short},n.a.createElement("div",{className:d.a.profile__info_row},n.a.createElement("div",{className:d.a.profile__info_label},"\u0414\u0435\u043d\u044c \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f:"),n.a.createElement("div",{className:d.a.profile__info_labeled},"23 \u0438\u044e\u043d\u044f")),n.a.createElement("div",{className:d.a.profile__info_row},n.a.createElement("div",{className:d.a.profile__info_label},"\u0413\u043e\u0440\u043e\u0434:"),n.a.createElement("div",{className:d.a.profile__info_labeled},"\u041d\u0438\u043a\u043e\u043b\u0430\u0435\u0432")),n.a.createElement("div",{className:d.a.profile_more_info},n.a.createElement("a",{className:"".concat(d.a.profile_more_info_link," + ").concat(c?d.a.shown:""),onClick:f},n.a.createElement("span",{className:d.a.profile_label_more},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e"),n.a.createElement("span",{className:d.a.profile_label_less},"\u0421\u043a\u0440\u044b\u0442\u044c \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e")))),v?n.a.createElement(L,{initialValues:o,profile:o,onSubmit:function(e){e.fullName=o.fullName,a(e).then(function(){E(!1)})}}):n.a.createElement(J,{showState:c,isOwner:i,profile:o,toEditMode:function(){E(!0)}})))),n.a.createElement(D,{store:l}))},H=t(309),R=t.n(H),X=t(310),Q=t.n(X),K=function(e){if(!e.profile)return n.a.createElement(M.a,null);var a=n.a.createRef(),t=function(a){if(a.target.files.length){var t=a.target.files[0];e.setUserAvatar(t)}};return n.a.createElement("div",{className:R.a.narrow_column_wrap},n.a.createElement("div",{className:R.a.page__block},n.a.createElement("div",{className:R.a.avatar__wrap},n.a.createElement("div",{className:R.a.avatar},n.a.createElement("img",{src:null!=e.profile.photos.large?e.profile.photos.large:g.a,alt:"avatar"}),e.isOwner&&n.a.createElement("div",{className:R.a.uploadPhoto,onClick:function(){a.current.click()}},n.a.createElement("img",{src:Q.a,alt:"camera"})),e.isOwner&&n.a.createElement("input",{className:R.a.hidden,ref:a,onChange:t,type:"file"}))),e.isOwner&&n.a.createElement("div",{className:R.a.avatar_inp_wrap},n.a.createElement("label",{htmlFor:"avatar_inp",className:b.a.form__input_file},"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u043e\u0442\u043e",n.a.createElement("input",{className:R.a.hidden,id:"avatar_inp",ref:a,onChange:t,type:"file"}))),!e.isOwner&&n.a.createElement("div",{className:R.a.start_dialog},n.a.createElement("a",{className:b.a.form__input_file,onClick:function(){var a;a=e.profile.userId,e.history.push("/im/"+a),e.startDialog(a)}},"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c"))))},Z=t(41),Y=function(e){return e.isAuth?n.a.createElement("div",{className:f.a.profile},n.a.createElement(K,{isOwner:e.isOwner,history:e.history,startDialog:e.startDialog,setUserAvatar:e.setUserAvatar,profile:e.profile}),n.a.createElement(G,{saveProfile:e.saveProfile,history:e.history,startDialog:e.startDialog,isOwner:e.isOwner,profile:e.profile,toggleUserInfo:e.toggleUserInfo,showState:e.showState,status:e.status,updateStatus:e.updateStatus})):n.a.createElement(Z.a,{to:"/auth"})},$=t(6),ee=t(101),ae=function(e){function a(){return Object(l.a)(this,a),Object(r.a)(this,Object(i.a)(a).apply(this,arguments))}return Object(_.a)(a,e),Object(o.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.autorizedUserId)||this.props.history.push("/auth"),e&&(this.props.getProfile(e),this.props.getStatus(e))}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,a,t){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return n.a.createElement(Y,Object.assign({isOwner:!this.props.match.params.userId},this.props,{startDialog:this.props.startDialog,saveProfile:this.props.saveProfile,setUserAvatar:this.props.setUserAvatar,autorizedUserId:this.autorizedUserId}))}}]),a}(n.a.Component);a.default=Object($.d)(Object(I.b)(function(e){return{profile:e.profilePage.profile,showState:e.profilePage.showMoreInfo,status:e.profilePage.status,isAuth:e.auth.isAuth,autorizedUserId:e.auth.userId}},{setUserProfile:u.h,toggleUserInfo:u.i,getProfile:u.d,getStatus:u.e,updateStatus:u.j,setUserAvatar:u.g,saveProfile:u.f,startDialog:ee.g}),Z.g)(ae)}}]);
//# sourceMappingURL=3.65214ac5.chunk.js.map